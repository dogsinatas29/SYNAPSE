v0.2.18
​📝 [PLAN] 마커 기반 적대적 논리 검증 시스템
​1. 개요 (Overview)
​본 계획은 LLM의 자율 코딩 및 논리 설계 과정에서 발생하는 불확실성을 🔴/🟡/🔵 마커를 통해 시각화하고, 이를 SYNAPSE 노드 인터페이스와 연동하여 논리의 병목을 즉각 제어하는 것을 목표로 한다.
​2. 검증 프로토콜 (Verification Protocol)
​2.1 마커 정의 및 Verdict 기준
마커 심각도 의미 시스템 액션 (SYNAPSE/Antigravity)
🔴 CRITICAL 논리 붕괴, 시스템 파괴, 교착 상태 Edge 절단, 노드 점멸, 즉시 롤백(Rollback)
🟡 WARNING 예외 처리 미비, 성능 저하, 논리적 허점 노드 황색 점등, Warning Marker 생성, 수정 권장
🔵 INFO 검증 통과, 정상 로그, 안전함 노드 청색 활성화, 다음 노드로 데이터 전송 승인

2.2 마커 생성 로직 (Adversarial Generation)
​적대적 시나리오 주입: 모델이 스스로 "이 논리가 터질 수 있는 이유"를 3가지 이상 생성.
​마커 태깅: 각 시나리오별로 위 마커를 강제 할당.
​VERDICT 보장: 응답이 Truncation(절단)되어도 마커 기반 추출을 통해 최종 상태를 확정.
​3. 워크플로우 설계 (Workflow Design)
​STEP 1: 계획 수립 (Planning)
​에이전트가 vega를 통해 수행할 작업의 노드 트리(Node Tree) 설계.
​각 노드 입구에 Input Guard 배치.
​STEP 2: 적대적 검증 (Adversarial Verification)
​각 노드 연결(Edge) 시 백그라운드에서 pi --mode rpc 검증기 가동.
​🔴 검출 시: "Logic Break" 알림과 함께 연결 무효화.
​🟡 검출 시: "Vibe Inconsistency" 알림, SYNAPSE상에서 노드 드래그 유도.
​STEP 3: 실행 및 롤백 (Execute & Rollback)
​검증 완료된 노드부터 순차적 실행.
​실행 중 예기치 못한 🔴 마커 발생 시, 마커 기반 스냅샷을 활용해 T-1 시점으로 즉시 롤백.
​4. 시각화 요구사항 (Visualization)
​노드(Node): 상태 마커에 따른 실시간 색상 변화 (Red/Yellow/Blue).
​엣지(Edge): 논리 전달력에 따른 선 굵기 및 애니메이션 차별화.
​마커 대시보드: Antigravity 사이드바에 현재 발생한 마커 요약 및 발생 지점(Line/Node ID) 표시.
​💡 시니어의 추가 코멘트
​추측 금지: 마커가 생성되지 않은 노드는 '검증되지 않음'으로 간주하고 실행을 보류하게.
​단순성 우선: 마커 파싱은 정규표현식(regex)으로 최소화하고, 복잡한 JSON 파싱보다 마커 우선 추출 방식을 고수할 것.