# Release Notes - v0.2.16 (Strategic Execution Flow)

## [English]
This release focuses on architectural stability and technical excellence, introducing the **Strategic Execution Flow** engine and resolving critical performance bottlenecks.

### Key Changes
- **Ready Handshake**: Implemented a bidirectional handshake to ensure the WebView is fully initialized before the extension transmits data, eliminating race conditions during startup.
- **Stable Layout Engine**: Replaced the potentially unstable BFS layout with a robust topological-sort based rank calculation, ensuring deterministic and cycle-safe rendering.
- **Rendering Safety Guards**: Added strict validation for all node coordinates (NaN/Infinity checks) to prevent UI freezes on complex architectural graphs.
- **Throttled Message Pipeline**: Optimized communication overhead by batching edge validations and reducing progress update frequency to 10% increments.
- **Recursion Safety**: Implemented depth-limited DFS in the rank calculation to handle extremely large projects or those with deep circular dependencies without hanging.
- **Waterfall Layout Refinement**: Enhanced the hierarchical digraph rendering for clearer logical flow in the "Strategic Execution Flow" mode.

---

## [한국어]
이번 릴리즈는 아키텍처의 안정성과 기술적 완성도에 집중했습니다. **Strategic Execution Flow** 엔진을 도입하고, 대규모 프로젝트에서 발생하던 성능 병목 지점들을 근본적으로 해결했습니다.

### 주요 변경 사항
- **준비 상태 핸드셰이크(Handshake)**: 확장 프로그램과 웹뷰 간의 양방향 통신을 통해, 웹뷰가 완전히 준비된 후 데이터를 전송하도록 동기화하여 초기 로딩 시 발생하던 타이밍 문제를 해결했습니다.
- **안정적인 레이아웃 엔진**: 무한 루프 위험이 있던 기존 BFS 방식을 안정적인 위상 정렬 기반의 랭크 계산법으로 교체하여, 복잡한 프로젝트에서도 결정론적이고 안전한 렌더링을 보장합니다.
- **렌더링 안전 가드**: 모든 노드 좌표에 대해 NaN/Infinity 체크를 수행하는 엄격한 검증 로직을 추가하여, 복잡한 그래프 환경에서 UI가 멈추거나 튕기는 현상을 원천 차단했습니다.
- **통신 부하 최적화**: 엣지 검증 메시지를 일괄 처리(Batching)하고 진행률 업데이트 주기를 10% 단위로 조절하여, 메시지 파이프 정체 현상을 해결하고 성능을 최적화했습니다.
- **재귀 호출 안전 제한**: 랭크 계산 DFS에 호출 깊이 제한을 적용하여, 매우 깊은 순환 참조가 포함된 프로젝트에서도 시스템 중단 없이 분석을 완료할 수 있게 했습니다.
- **Waterfall 레이아웃 정교화**: "Strategic Execution Flow" 모드에서 논리적 흐름을 보다 명확하게 파악할 수 있도록 계층형 그래프 렌더링 품질을 개선했습니다.

---

## [How to Install]
1. Download `synapse-visual-architecture-0.2.16.vsix`.
2. Drag and drop the file into **VS Code**.
3. Reload VS Code and use `SYNAPSE: Open Canvas`.
